"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3843],{3843:(w,g,a)=>{a.r(g),a.d(g,{FeedInfinitoPageModule:()=>v});var d=a(177),u=a(4341),o=a(4488),f=a(5171),e=a(4438),h=a(1626);let m=(()=>{var t;class s{constructor(n){this.http=n,this.apiKey="fc91eff83c81472c9d03e094dcd2bb11",this.baseUrl="https://newsapi.org/v2/everything",this.climateKeywords=["clima","clim\xe1tico","meteorologia","temperatura","previs\xe3o do tempo","fen\xf4menos meteorol\xf3gicos"]}getNews(n){const i=this.climateKeywords.join(" OR ");return this.http.get(`${this.baseUrl}?q=${i}&language=pt&apiKey=${this.apiKey}&page=${n}`)}}return(t=s).\u0275fac=function(n){return new(n||t)(e.KVO(h.Qq))},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();function p(t,s){if(1&t&&e.nrm(0,"img",9),2&t){const r=e.XpG().$implicit;e.Y8G("src",r.urlToImage,e.B4B)}}function I(t,s){if(1&t){const r=e.RV6();e.j41(0,"ion-col",6)(1,"ion-card",7),e.bIt("click",function(){const i=e.eBV(r).$implicit,c=e.XpG();return e.Njj(c.openArticle(i))}),e.DNE(2,p,1,1,"img",8),e.j41(3,"ion-card-header")(4,"ion-card-title"),e.EFF(5),e.k0s()(),e.j41(6,"ion-card-content")(7,"p"),e.EFF(8),e.k0s()()()()}if(2&t){const r=s.$implicit;e.R7$(2),e.Y8G("ngIf",r.urlToImage),e.R7$(3),e.JRh(r.title),e.R7$(3),e.JRh(r.description)}}const F=[{path:"",component:(()=>{var t;class s{constructor(n,i){this.newsService=n,this.router=i,this.articles=[],this.currentPage=1}ngOnInit(){this.loadNews()}loadNews(n){this.newsService.getNews(this.currentPage).subscribe(i=>{const c=i.articles.filter(l=>!this.isRemoved(l));this.articles=this.shuffle(c),n&&n.target.complete()})}refreshNews(n){this.currentPage=1,this.articles=[],this.loadNews(n)}loadMore(n){this.currentPage++,this.loadNews(n)}openArticle(n){this.router.navigate(["/article"],{state:{article:n}})}isRemoved(n){return!!(n&&n.title&&n.description)&&(n.title.includes("[Removed]")||n.description.includes("[Removed]"))}shuffle(n){let c,l,i=n.length;for(;0!==i;)l=Math.floor(Math.random()*i),i-=1,c=n[i],n[i]=n[l],n[l]=c;return n}}return(t=s).\u0275fac=function(n){return new(n||t)(e.rXU(m),e.rXU(f.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-feed-infinito"]],decls:12,vars:2,consts:[[3,"scrollEvents"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","circles"],["size","12","size-md","6","size-lg","4",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Carregando mais not\xedcias..."],["size","12","size-md","6","size-lg","4"],[3,"click"],[3,"src",4,"ngIf"],[3,"src"]],template:function(n,i){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Feed"),e.k0s()()(),e.j41(4,"ion-content",0)(5,"ion-refresher",1),e.bIt("ionRefresh",function(l){return i.refreshNews(l)}),e.nrm(6,"ion-refresher-content",2),e.k0s(),e.j41(7,"ion-grid")(8,"ion-row"),e.DNE(9,I,9,3,"ion-col",3),e.k0s()(),e.j41(10,"ion-infinite-scroll",4),e.bIt("ionInfinite",function(l){return i.loadMore(l)}),e.nrm(11,"ion-infinite-scroll-content",5),e.k0s()()),2&n&&(e.R7$(4),e.Y8G("scrollEvents",!0),e.R7$(5),e.Y8G("ngForOf",i.articles))},dependencies:[d.Sq,d.bT,o.b_,o.I9,o.ME,o.tN,o.hU,o.W9,o.lO,o.eU,o.Ax,o.Hp,o.To,o.Ki,o.ln,o.BC,o.ai],styles:["ion-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease-in-out;height:100%;display:flex;flex-direction:column;justify-content:space-between}ion-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}ion-card-title[_ngcontent-%COMP%]{font-size:1.2em}ion-card-content[_ngcontent-%COMP%]{flex-grow:1}@media (min-width: 576px){ion-col[_ngcontent-%COMP%]{--ion-grid-column-padding: 10px}}"]}),s})()}];let P=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[f.iI.forChild(F),f.iI]}),s})(),v=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[d.MD,u.YN,o.bv,P]}),s})()}}]);